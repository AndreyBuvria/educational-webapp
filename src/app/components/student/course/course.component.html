<div class="wrapper">
  <mat-tab-group *ngIf="course | async as course; else loading">
    <mat-tab label="Course">
      <app-filter-bar (sortType)="onApplySortType($event)"></app-filter-bar>
      <cdk-accordion *ngIf="taskList | async as tasks">
        <ng-container *ngFor="let task of tasks | sort:this.sortTypeValue; let i = index;">
          <app-task [task]="task" [taskIndex]="i"></app-task>
        </ng-container>
      </cdk-accordion>
    </mat-tab>
    <mat-tab label="Information">
      <p class="course-key">Course key: {{ course.key }}</p>
    </mat-tab>
    <mat-tab label="Settings">
     <div class="btn-leave">
      <button mat-raised-button color="warn" (click)="onLeaveCourse(course.id)">Leave the course</button>
     </div>
    </mat-tab>
  </mat-tab-group>

  <ng-template #loading>Loading...</ng-template>

</div>
